# Figma UI改善 Issue / PR レビュー記録（2026-02-15）

対象:
- Figma `17:650`（ReportEditor Short）
- Figma `17:352`（Home）

目的:
- 実装前後の判断を、5人以上の専門家・実務者・利用者視点で偏りなく整理する。

---

## 1) Issue実装フェーズの多視点レビュー

参加ロール（8名）:
1. モバイルUIデザイナー（専門家）
2. React Nativeアーキテクト（専門家）
3. アクセシビリティ担当（専門家）
4. QA自動化エンジニア（プロ）
5. プロダクトマネージャー（プロ）
6. 現場リーダー（ヘビーユーザー）
7. 新規利用者（ライトユーザー）
8. 運用保守担当（プロ）

論点と合意:
- 視覚一致（デザイナー）
  - 合意: Figmaの主要寸法（ヘッダー高、カード角丸、入力高さ、境界線）を優先し、UIの骨格を先に一致させる。
- 技術実装（RNアーキ）
  - 合意: 既存ロジックを温存し、UI層のみ差分反映。画面遷移・保存・PDF・DB操作は既存を再利用。
- タップ精度（A11y）
  - 合意: 視覚サイズはFigma維持、実効タップ領域は `hitSlop` で補正。
- 回帰リスク（QA）
  - 合意: 既存 `testID` は維持。`lint/test/type-check` を全実施。
- 価値優先度（PM）
  - 合意: 先に `17:650` を改修し、続けて `17:352` を同手順で展開。
- 現場利用（ヘビーユーザー）
  - 合意: 「上部PDF」「下部保存」固定は実務で迷いを減らすため採用。
- 初回利用（ライトユーザー）
  - 合意: Homeは「検索 + 3フィルタ + FAB」に絞り、学習コストを下げる。
- 運用（保守）
  - 合意: URLから台帳更新をスクリプト化し、node-id管理の手作業を削減。

実装判断:
- 採用: UI骨格一致 + icon統一 + hitSlop補正 + URL→台帳自動更新。
- 見送り: 画面ロジックの全面リファクタ（今回は回帰リスク優先で不採用）。

---

## 2) PRレビュー観点（マージ前）

参加ロール（7名）:
1. UIデザイナー
2. RNアーキテクト
3. QA
4. A11y担当
5. PM
6. 現場ユーザー代表
7. 新規ユーザー代表

レビュー項目:
- デザイン一致: `17:650` / `17:352` スクリーンショットとの主要差分解消
- 機能維持: 保存/PDF/削除/並び替え/検索/フィルタ/FAB遷移
- 品質ゲート: `pnpm install --frozen-lockfile` → `pnpm lint` → `pnpm test` → `pnpm type-check`
- 運用性: `scripts/update-figma-node-ledger.mjs` で台帳更新自動化

レビュー結論:
- マージ可（条件付き）
  - 条件1: 既存CIがgreenであること
  - 条件2: 実機での最終スクリーンショット確認（iOS/Android）
  - 条件3: 台帳更新手順をHow-toへ明記

未解決リスク:
- FigmaローカルMCPのSVG資産はランタイム直参照しないため、完全なピクセル一致は最終的に実機比較で再確認が必要。

