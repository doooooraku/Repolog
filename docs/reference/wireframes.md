# 画面設計図（テキスト・ワイヤーフレーム）

> 目的：実装者/デザイナー/現場ユーザーが "同じ絵" を見られるようにする。
> 表現：モノクロの箱（レイアウト）＋最低限の文言のみ。
> 元：`docs/explanation/product_strategy.md` 付録E から分離
> 注意：Figmaに移行済みの画面は Figma を正とする。このファイルはテキストベースの叩き台。

---

## E-0. 画面一覧（IA）
1. Home（レポート一覧）
2. Report Editor（レポート編集：メタ＋コメント＋写真管理）
3. Photo Sort（写真並び替え：全画面/専用）
4. PDF Preview（レイアウト選択＋プレビュー＋出力）
5. Settings（位置情報ON/OFF、言語、プラン、バックアップ）
6. Backup（エクスポート/インポート）

---

## E-1. Home（レポート一覧）
**狙い：提出が無い日でも"見返す理由"がある Home**
- Homeは「提出の入口」ではなく **"手帳みたいに見返す棚"**（ログブック）
- 片手操作・屋外・手袋を想定 → タップターゲット大きめ／操作は最小
- 迷子防止 → **日付区切り + 総量が分かる**（週・月のまとまり）

**ワイヤー（手帳タイムライン案）**
- [AppBar] Repolog   (右：検索 / Settings)
- [フィルタChip] すべて｜ピン留め｜今週｜レポート名（選択）
- [タイムラインリスト]
  - **日付ヘッダ**：2026-01-22（Thu）
  - **行（1レポート）**
    - 左：縦ドット＋細い線（タイムライン軸）
    - 中：小サムネ（先頭写真）（無い場合はプレースホルダ）
    - 右：情報ブロック
      - Title: レポート名: 横浜第3ビル
      - Sub: 15:30 / Photos 12 / Pages 7（PDF出力済みならバッジ）
      - 右端：メニュー（複製/削除）
      - 角：ピン留め
- [FAB] ＋ 新規レポート

**タイムラインアイコン案（Homeタブ等に使う）**
- "縦ドット（時系列）＋小さな写真枠" ＝ **スクロールで見返す手帳体験** を直感で伝える
- 既存アイコンで代用するなら：**timeline / history / view_agenda** 系（最終はブランドに合わせて自作推奨）

**推奨（あると強い）**
- 空状態：イラスト＋「＋で新規作成」＋「サンプルPDFを見る」（教育）
- "最近使った現場"が上に来る並び（デフォ）
- レポート詳細へ入らずに把握できる"軽い情報"（写真数・作成日時・ピン）だけ出す

---

## E-2. Report Editor（レポート編集：メタ＋コメント＋写真管理）
**PM視点：**
- ここが「価値の中心」。入力は最小、写真管理は強い。

**ワイヤー（スクロール1画面に収めるが、セクション分け）**
- [AppBar] レポート名: 横浜第3ビル   (右：PDF)
- [Section: 基本情報]
  - レポート名入力（必須）
  - 作成日時（自動、編集不可 or 任意）
  - 位置情報：ON/OFF（トグル）  ※OFFなら権限要求しない／ON時は初回自動取得
  - 住所：自動入力（端末言語）＋編集可／再取得ボタン
  - 天気：晴れ/雨/曇り/雪（選択、PDFは翻訳文字列）
- [Section: コメント]
  - Multiline TextArea（残り文字数カウンタ：4000）
  - 例：「作業内容、異常、注意点…」
- [Section: 写真]
  - 2列グリッド（サムネ）
  - 各サムネ：右上に小さいx（削除）
  - [ボタン群]
    - 撮影（Camera）
    - アルバム（Album）
    - 並び替え（Reorder）
- [下部固定（任意）]
  - 「保存」表示は不要（オート保存前提）。必要なら「保存済み」トースト。

**画像追加（アルバム）**
- OSのピッカーを開く（複数選択）
- 取り込み直後に縮小版生成（PDF用）

---

## E-3. Photo Sort（写真並び替え）
**現場ユーザー視点：**
- 直感で順番を変えたい（"前後関係"は報告に重要）
- ミスったら戻したい（Undo）

**ワイヤー**
- [AppBar] 写真の順番   (左：戻る / 右：完了)
- [グリッド] 3列 or 2列（端末幅で変える）
  - 長押しドラッグで移動
- [下部] Undo（直前の移動を戻す）

---

## E-4. PDF Preview（レイアウト選択＋プレビュー＋出力）
**デザイナー視点：**
- "大きく（1枚）"の良さを体感させる → 出力時に自然にProへ。

**ワイヤー**
- [AppBar] PDFプレビュー
- [Layout セグメント]
  - 標準（2枚） | 大きく（1枚）
- [プレビュー領域]
  - ページサムネ（横スワイプ or 縦スクロール）
- [下部固定ボタン]
  - 「PDFを出力」

**Freeで"大きく"選択中に出力**
- モーダル
  - タイトル：このレイアウトはPro限定です
  - 本文：標準（2枚）なら無料で出力できます
  - ボタンA：標準（2枚）で出力する
  - ボタンB：Proにアップグレード

**50枚超えで出力**
- モーダル
  - タイトル：写真枚数が多いです
  - 本文：50枚を超えています。PDF作成に数分かかる場合があります。続けますか？
  - ボタンA：作成する
  - ボタンB：戻る

---

## E-5. Settings（設定）
**法務/プライバシー視点：**
- 位置情報の扱いを"自分で選べる"のが安全。

**ワイヤー**
- [AppBar] 設定
- [セクション：一般]
  - 言語（Language）
  - 位置情報をPDFに含める（ON/OFF／ON時はレポート作成で初回自動取得）
- [セクション：プラン]
  - 現在のプラン表示
  - アップグレード（Pro）
  - 購入を復元（Restore）
- [セクション：バックアップ]
  - エクスポート
  - インポート
- [セクション：その他]
  - お問い合わせ
  - 利用規約 / プライバシーポリシー

---

## E-6. Backup（エクスポート/インポート）
**実装者視点：**
- 形式を固定して、将来も壊れない。

**エクスポート**
- `manifest.json` + `photos/` をZIP化（推奨）
- OSの保存先選択UIへ

**インポート**
- OSのファイル選択UIでZIP or manifest選択
- 取り込み後にサマリ表示（レポート数/写真数）
